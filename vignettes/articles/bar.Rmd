---
title: "bar"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{bar}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(vchartr)
data("mpg", package = "ggplot2")
```




## Basic Bar Chart

Create a basic bar chart with :

```{r basic}
vbar(table(Class = mpg$class), aes(Class, Freq)) %>% 
  v_specs(
    label = list(visible = TRUE)
  ) %>% 
  v_colors("#8FBCBB") %>% 
  v_labs(
    title = "Title for the chart",
    subtitle = "A subtitle to be placed under the title"
  )
```


Highlight a specific bar in the chart :

```{r highlight-bar}
vbar(table(Class = mpg$class), aes(Class, Freq)) %>% 
  v_specs(
    bar = list(
      style = list(
        fill = JS(
          "function(datum) {",
          "return datum.x == 'compact' ? '#5E81AC' : '#88C0D0';",
          "}"
        )
      )
    )
  )
```


## Grouped Bar Chart

A grouped bar chart with specific colors and custom legend : 

```{r}
vbar(
  table(Class = mpg$class, Year = mpg$year),
  aes(Class, Freq, fill = Year)
) %>% 
  v_colors_manual("2008" = "#88C0D0", "1999" = "#5E81AC") %>% 
  v_legend(
    title = list(text = "Title", visible = TRUE),
    orient = "right",
    position = "start",
    item = list(focus = TRUE)
  )
```


